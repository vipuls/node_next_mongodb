{"version":3,"sources":["../src/async.js"],"names":["async","dispatch","restFunctions","currentFunction","Promise","resolve","reject","err","data","then","length"],"mappings":";;;;;kBAWwBA,K;AAXxB;;;;;;;;;;;AAWe,SAASA,KAAT,CACbC,QADa,EAIb;AAAA,oCADGC,aACH;AADGA,iBACH;AAAA;;AAAA,MAFAC,eAEA,uEAFkB,IAElB;;AACA,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAI,CAACH,eAAL,EAAsB;AACpBG,aAAO,mBAAP;AACD,KAFD,MAEO;AACLL,eACEE,gBAAgB,UAACI,GAAD,EAAMC,IAAN,EAAe;AAC7BD,cAAMD,OAAOC,GAAP,CAAN,GAAoBF,QAAQG,IAAR,CAApB;AACD,OAFD,KAEM,EAHR;AAKD;AACF,GAVM,EAUJC,IAVI,CAUC,gBAAQ;AACd,QAAIP,cAAcQ,MAAlB,EAA0B;AACxB,aAAOV,wBAAMC,QAAN,SAAmBC,aAAnB,EAAP;AACD,KAFD,MAEO;AACL,aAAOM,IAAP;AACD;AACF,GAhBM,CAAP;AAiBD","file":"async.js","sourcesContent":["/**\n *\n * @param  {[type]}    dispatch [description]\n * @param  {...[type]} args     [description]\n * @return {[type]}             [description]\n * @example\n * async(dispatch,\n *   cb=> actions.test(1, cb),\n *   actions.test2\n * ).then(()=> async(dispatch, actions.test3))\n */\nexport default function async(\n  dispatch,\n  currentFunction = null,\n  ...restFunctions\n) {\n  return new Promise((resolve, reject) => {\n    if (!currentFunction) {\n      reject(\"no chain function\");\n    } else {\n      dispatch(\n        currentFunction((err, data) => {\n          err ? reject(err) : resolve(data);\n        }) || {}\n      );\n    }\n  }).then(data => {\n    if (restFunctions.length) {\n      return async(dispatch, ...restFunctions);\n    } else {\n      return data;\n    }\n  });\n}\n"]}